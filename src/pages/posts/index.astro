---
import { getCollection } from "astro:content";
import Html from "../../components/Html.astro";
import PostPreview from "../../components/PostPreview.astro";

const posts = await getCollection("posts");

// Sort from newer to older
posts.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

{/* --------------------------------[ HTML ]-------------------------------- */}

<Html>
  <main>
    <h1>Posts</h1>
    {posts.map((post) => <PostPreview post={post} />)}
  </main>
</Html>

{/* ---------------------------------[ CSS ]-------------------------------- */}

<style>
  main {
    max-width: 768px;
    margin-inline: auto;
    display: flex;
    flex-direction: column;
    gap: 1em;
  }
</style>
